<div hidden id='location'>{"lng": <%=@trail.longitude%>, "lat": <%=@trail.latitude%>}</div>
<section class='trail-show'>
  <header>
    <h3><%= @trail.name%></h3>
    <p><%= @trail.description%></p>
  </header>
  <section class='trail-card'>
    <div class='trail-info'>
      <span>Location: <%= @trail.location%></span>
      <span>Distance: <%= @trail.distance%></span>
      <span>Difficulty: <%= @trail.difficulty.rating%></span>
      <span>Distance: <%= @trail.distance%></span>
      <span>Rating: <%= @trail.rating%></span>
      
      <%= link_to 'Edit Trail', edit_trail_path(@trail) %>
    </div>

    <div class='show-trail-map'>
      <div id="map" class='map'></div>
    </div>
  </section>
  
  <div id="container">
    <div class='comments'>

      <h2>Comments (<%= @trail.comments.count %>)</h2> 
      <%= render partial: 'comments/form' %>
      <%= render partial: 'trails/comment', collection: @trail.comments.reverse %>
    </div>

    <div class='right'>
      <h2>Similar Trails</h2>
      <% @trails.where(difficulty_id: "#{@trail.difficulty_id}").each do |t| %>
        <p><%= t.name %>
        <br>
        <%= t.location %></p>
      <% end %>
    <div class='weather-info'>

      <h3>Weather Information</h3>
      <% @weather.each do |w| %>
        <ul style="list-style-type:none">
          <li><%= w.date%></li>
          <li><%=image_tag w.icon, size: "16x10"%></li>
          <li><%= w.high %>/ <%= w.low %> F</li>
        </ul>
      <% end %>
    </div>
  </section>
    </div>
  </div>

  <div class='image'>
    <% @trail.get_pictures.each do |picture| %>
      <%= image_tag("#{picture.image}") %>
    <% end %>
  </div>

</section>

<%= render partial: 'shared/googlemapcall', :locals => {googleMap: 'showTrailMap'} %>
<%= javascript_include_tag "maps/show_trail.js" %>
